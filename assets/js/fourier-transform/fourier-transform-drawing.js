var sketch_sawtooth=function(e){let t,o,n=0,l={x:[],y:[]};e.setup=function(){o=e.createCanvas(.69*e.windowWidth,.69*e.windowHeight),t=e.createSlider(1,10,1),html_slider_value=document.getElementById("slider-value"),html_slider_value.style.position="relative",html_slider_value.style.left=.2*o.width+"px",o.parent("sawtooth"),t.parent("slider")},e.sawtooth=function(e){let t=0,o=100;t=e<5?linspace(0,2*Math.PI,100):linspace(0,2*Math.PI,25*e);let n=[];for(let l=0;l<t.length;l++){n[l]=new ComplexNumber(0,0);for(let i=1;i<=e;i++)n[l]=n[l].add(new ComplexNumber(o/i*Math.sin(i*t[l]),0))}return discreteFourierTransform(n)},e.draw=function(){html_slider_value.innerHTML="N = "+t.value(),e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color"));const i=o.width/3,r=o.height/2;e.translate(i,r);let a=0,u=0,d=e.sawtooth(t.value()),h=epiCycles(a,u,Math.PI/2,d,n,e);l.x.unshift(h.x),l.y.unshift(h.y),e.translate(o.width/4,0),e.beginShape(),e.noFill(),e.stroke(getComputedStyle(document.documentElement).getPropertyValue("--global-text-color"));for(let t=0;t<l.y.length;t++)e.vertex(t,l.y[t]);e.line(h.x-o.width/4,h.y,0,h.y),e.endShape();const s=2*Math.PI/d.length;n+=s,t.changed(()=>{n=0,l={x:[],y:[]}}),l.x.length>500&&(l.x.pop(),l.y.pop())},e.windowResized=function(){e.resizeCanvas(.69*e.windowWidth,.69*e.windowHeight),html_slider_value=document.getElementById("slider-value"),html_slider_value.style.position="relative",html_slider_value.style.left=.2*o.width+"px"}},sketch_batman=function(e){let t,o,n,l=0,i={x:[],y:[]},r=[],a=[];e.setup=function(){(n=e.createCanvas(.69*e.windowWidth,.69*e.windowHeight)).parent("batman");for(let e=0;e<batman.length;e+=10)r.push(new ComplexNumber(batman[e].x,0)),a.push(new ComplexNumber(batman[e].y,0));t=discreteFourierTransform(r),o=discreteFourierTransform(a)},e.draw=function(){e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color"));const r=n.width/3,a=n.height/2;e.translate(r,a);let u=epiCycles(n.width/10,n.height/5,0,t,l,e),d=epiCycles(n.width/2,-n.height/5,Math.PI/2,o,l,e);i.x.unshift(u.x),i.y.unshift(d.y),e.line(u.x,u.y,u.x,d.y),e.line(d.x,d.y,u.x,d.y),e.beginShape(),e.noFill(),e.stroke(getComputedStyle(document.documentElement).getPropertyValue("--global-text-color"));for(let t=0;t<i.x.length;t++)e.vertex(i.x[t],i.y[t]);e.endShape();const h=2*Math.PI/t.length;l+=h,i.x.length>500&&(i.x.pop(),i.y.pop())},e.windowResized=function(){e.resizeCanvas(.69*e.windowWidth,.69*e.windowHeight)}},sketch_user=function(e){let t,o,n=[],l=!1,i={x:[],y:[]},r=0;e.validMouse=function(){return e.mouseX>0&&e.mouseX<o.width&&e.mouseY>0&&e.mouseY<o.height},e.setup=function(){o=e.createCanvas(.69*e.windowWidth,.69*e.windowHeight),e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color")),e.textAlign(e.CENTER),e.textSize(64),e.fill(getComputedStyle(document.documentElement).getPropertyValue("--global-text-color")),e.textFont("inherit"),e.text("draw something",o.width/2,o.height/2),o.parent("user")},e.draw=function(){if(1==e.mouseIsPressed&&e.validMouse()){e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color")),i={x:[],y:[]},r=0,n.push(new ComplexNumber(e.mouseX-o.width/2,e.mouseY-o.height/2)),l=!0,e.stroke(getComputedStyle(document.documentElement).getPropertyValue("--global-theme-color")),e.noFill(),e.beginShape();for(let t=0;t<n.length;t++)e.vertex(n[t].real+o.width/2,n[t].imaginary+o.height/2);e.endShape(),t=discreteFourierTransform(n)}if(1==l&&0==e.mouseIsPressed){e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color")),n=[];let l=epiCycles(o.width/2,o.height/2,0,t,r,e);i.x.unshift(l.x),i.y.unshift(l.y),e.beginShape(),e.stroke(getComputedStyle(document.documentElement).getPropertyValue("--global-text-color")),e.noFill();for(let t=0;t<i.x.length;t++)e.vertex(i.x[t],i.y[t]);e.endShape();const a=2*Math.PI/t.length;r+=a,i.x.length>1e3&&(i.x.pop(),i.y.pop())}},e.windowResized=function(){e.resizeCanvas(.69*e.windowWidth,.69*e.windowHeight)}};new p5(sketch_sawtooth,"sawtooth"),new p5(sketch_batman,"batman"),new p5(sketch_user,"user");