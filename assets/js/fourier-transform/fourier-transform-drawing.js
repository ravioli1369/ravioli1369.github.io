var sketch_sawtooth=function(e){let t,n,o=0,l={x:[],y:[]};e.setup=function(){n=e.createCanvas(.69*e.windowWidth,.69*e.windowHeight),t=e.createSlider(1,10,1),html_slider_value=document.getElementById("slider-value"),html_slider_value.style.position="relative",html_slider_value.style.left=.2*n.width+"px",n.parent("sawtooth"),t.parent("slider")},e.sawtooth=function(e){let t=0,n=100;t=e<5?linspace(0,2*Math.PI,100):linspace(0,2*Math.PI,25*e);let o=[];for(let l=0;l<t.length;l++){o[l]=new ComplexNumber(0,0);for(let i=1;i<=e;i++)o[l]=o[l].add(new ComplexNumber(n/i*Math.sin(i*t[l]),0))}return discreteFourierTransform(o)},e.draw=function(){html_slider_value.innerHTML="N = "+t.value(),e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color"));const i=n.width/3,r=n.height/2;e.translate(i,r);let a=0,d=0,h=e.sawtooth(t.value()),u=epiCycles(a,d,Math.PI/2,h,o,e);l.x.unshift(u.x),l.y.unshift(u.y),e.translate(n.width/4,0),e.beginShape(),e.noFill(),e.stroke(getComputedStyle(document.documentElement).getPropertyValue("--global-text-color"));for(let t=0;t<l.y.length;t++)e.vertex(t,l.y[t]);e.line(u.x-n.width/4,u.y,0,u.y),e.endShape();const s=2*Math.PI/h.length;o+=s,t.changed(()=>{o=0,l={x:[],y:[]}}),l.x.length>500&&(l.x.pop(),l.y.pop())},e.windowResized=function(){e.resizeCanvas(.69*e.windowWidth,.69*e.windowHeight),html_slider_value=document.getElementById("slider-value"),html_slider_value.style.position="relative",html_slider_value.style.left=.2*n.width+"px"}},sketch_batman=function(e){let t,n,o,l=0,i={x:[],y:[]},r=[],a=[];e.setup=function(){(o=e.createCanvas(.69*e.windowWidth,.69*e.windowHeight)).parent("batman");for(let e=0;e<batman.length;e+=10)r.push(new ComplexNumber(batman[e].x,0)),a.push(new ComplexNumber(batman[e].y,0));t=discreteFourierTransform(r),n=discreteFourierTransform(a)},e.draw=function(){e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color"));const r=o.width/3,a=o.height/2;e.translate(r,a);let d=epiCycles(o.width/10,o.height/5,0,t,l,e),h=epiCycles(o.width/2,-o.height/5,Math.PI/2,n,l,e);i.x.unshift(d.x),i.y.unshift(h.y),e.line(d.x,d.y,d.x,h.y),e.line(h.x,h.y,d.x,h.y),e.beginShape(),e.noFill(),e.stroke(getComputedStyle(document.documentElement).getPropertyValue("--global-text-color"));for(let t=0;t<i.x.length;t++)e.vertex(i.x[t],i.y[t]);e.endShape();const u=2*Math.PI/t.length;l+=u,i.x.length>500&&(i.x.pop(),i.y.pop())},e.windowResized=function(){e.resizeCanvas(.69*e.windowWidth,.69*e.windowHeight)}},sketch_user=function(e){let t,n,o=[],l=!1,i={x:[],y:[]},r=0;e.setup=function(){n=e.createCanvas(.69*e.windowWidth,.69*e.windowHeight),e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color")),e.textAlign(e.CENTER),e.textSize(64),e.fill(getComputedStyle(document.documentElement).getPropertyValue("--global-text-color")),e.textFont("inherit"),e.text("draw something",n.width/2,n.height/2),n.parent("user")},e.draw=function(){if(1==e.mouseIsPressed){e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color")),i={x:[],y:[]},r=0,o.push(new ComplexNumber(e.mouseX-n.width/2,e.mouseY-n.height/2)),l=!0,e.stroke(253,253,150),e.noFill(),e.beginShape();for(let t=0;t<o.length;t++)e.vertex(o[t].real+n.width/2,o[t].imaginary+n.height/2);e.endShape(),t=discreteFourierTransform(o)}if(1==l&&0==e.mouseIsPressed){e.background(getComputedStyle(document.documentElement).getPropertyValue("--global-bg-color")),o=[];let l=epiCycles(n.width/2,n.height/2,0,t,r,e);i.x.unshift(l.x),i.y.unshift(l.y),e.beginShape(),e.stroke(getComputedStyle(document.documentElement).getPropertyValue("--global-text-color")),e.noFill();for(let t=0;t<i.x.length;t++)e.vertex(i.x[t],i.y[t]);e.endShape();const a=2*Math.PI/t.length;r+=a,i.x.length>1e3&&(i.x.pop(),i.y.pop())}},e.windowResized=function(){e.resizeCanvas(.69*e.windowWidth,.69*e.windowHeight)}};new p5(sketch_sawtooth,"sawtooth"),new p5(sketch_batman,"batman"),new p5(sketch_user,"user");